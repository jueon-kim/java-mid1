# Java Study

- 이 프로젝트는 Java 학습을 위한 개인 스터디 저장소 입니다.
- 김영한님의 강의를 보면서 정리한 내용압니다.

## 학습 목표
- Java의 기초 문법과 구조 이해
- 객체 및 클래스의 개념을 명확하게 익히기 
- 문자열, 날짜, 열겨형 등 다양한 Java API사용법 익히기 
- 예외처리 방식 및 내부 클래스 활용 학습 

## 학습 주제 
- java 기초 문법 이해 
- Object, 불면 객체
- String, 래퍼, Class, 열거형(Enum)
- 날짜와 시간, 중첩, 내부 클래스, 예외 처리 

## 🔒 불변 객체 (Immutable Object)

### 📌 불변 객체란?
불변 객체란 **한 번 생성된 이후 내부 상태(값)가 절대로 바뀌지 않는 객체를 말합니다.  
객체의 필드(상태)를 변경할 수 없기 때문에 사이드 이펙트(Side Effect)를 방지할 수 있습니다.

---

### ⚠️ 사이드 이펙트란?
여러 변수가 같은 객체를 공유(공유 참조)하고 있을 때 한 곳에서 값을 변경하면 다른 곳에도 영향을 주는 문제를 의미합니다.

불변 객체는 값을 변경할 수 없기 때문에 이러한 사이드 이펙트가 원천적으로 차단됩니다.

---

### ✅ 불변 객체의 특징

- 생성 후 객체의 내부 상태가 절대로 변경되지 않는다.
- 값을 변경하고 싶다면 새로운 객체를 만들어야 한다.
- 기존 객체를 참조하는 다른 변수에는 영향을 주지 않는다.
- 여러 쓰레드에서 동시에 접근해도 안전하다. (Thread-safe)

---

### 🔄 가변(Mutable) 객체 vs 불변(Immutable) 객체

| 구분         | 설명                                                                 |
|--------------|----------------------------------------------------------------------|
| 가변 객체     | 객체 생성 후 내부 상태가 변경될 수 있다.                             |
| 불변 객체     | 객체 생성 이후 내부 상태가 절대로 변하지 않는다.                     |

> 예시:
> - `Address` → 가변 클래스 (Mutable)
> - `ImmutableAddress` → 불변 클래스 (Immutable)
> - `String`, `Integer`, `LocalDate` 등은 자바에서 기본적으로 제공하는 불변 클래스입니다.

---

### 💡 왜 불변 객체를 사용하는가?

- ✅ 사이드 이펙트 방지: 여러 참조가 있을 때 값 변경으로 인한 예기치 않은 오류를 방지
- ✅ 멀티 쓰레드 안정성: 상태가 바뀌지 않기 때문에 동기화 없이 안전하게 사용할 수 있음
- ✅ 캐시 및 공유 객체 안정성: 여러 곳에서 공유해도 값이 바뀌지 않으므로 안전
- ✅ 값 타입(Entity 내부 등)의 안정성: JPA 등에서 값 타입 객체를 안정적으로 관리

---

### 🧠 기본형과 참조형의 차이

- 기본형 (Primitive Type)
    - 값을 공유하지 않는다.
    - 각 변수는 자신의 값을 독립적으로 가진다.
    - 예: `int`, `double`, `boolean`

- 참조형 (Reference Type)
    - 하나의 객체를 여러 변수가 참조할 수 있다.
    - 공유 참조가 가능하고, 변경 시 모든 참조에 영향을 줄 수 있다.
    - 예: `String`, `Address`, `Object`

> 따라서 참조형 데이터 타입에서는 불변 객체로 설계 하면 사이드 이펙트를 방지할 수 있습니다.

---

### 📘 정리

> 불변이라는 단순한 제약을 통해 사이드 이펙트와 같은 복잡한 문제를 효과적으로 막을 수 있습니다.  
> 클래스가 어디에, 어떻게 활용될지를 고려하며 불변 객체의 원리를 이해하고 설계해야 합니다.


# 📌 String 클래스 
String 클래스 안에는 char[] 배열을 가지고 있다.

### 속성(필드)
'private final char[] value'
여기에는 `String` 의 실제 문자열 값이 보관된다. 문자 데이터 자체는 `char[]` 에 보관된다.
`String` 클래스는 개발자가 직접 다루기 불편한 `char[]` 을 내부에 감추고 `String` 클래스를 사용하는 개발자가 편
리하게 문자열을 다룰 수 있도록 다양한 기능을 제공한다. 그리고 메서드 제공을 넘어서 자바 언어 차원에서도 여러 편
의 문법을 제공한다.

- java 9부터는 String 클래스에서 char[] 대신에 byte[]을 사용한다 
- private final byte[] value;


자바에서 문자열을 더할 때는 `String` 이 제공하는 `concat()` 과 같은 메서드를 사용해야 한다.
하지만 문자열은 너무 자주 다루어지기 때문에 자바 언어에서 편의상 특별히 연산을 제공한다.


### String 비교 

문자열 리터럴, 문자열 풀 

`String str3 해 문자열 풀을 사용한다.
= "hello"` 와 같이 문자열 리터럴을 사용하는 경우 자바는 메모리 효율성과 성능 최적화를 위
자바가 실행되는 시점에 클래스에 문자열 리터럴이 있으면 문자열 풀에 `String` 인스턴스를 미리 만들어둔다.
이때 같은 문자열이 있으면 만들지 않는다.
`String str3 = "hello"` 와 같이 문자열 리터럴을 사용하면 문자열 풀에서 `"hello"` 라는 문자를 가진
`String` 인스턴스를 찾는다. 그리고 찾은 인스턴스의 참조(`x003` )를 반환한다.
`String str4 = "hello"` 의 경우 `"hello"` 문자열 리터럴을 사용하므로 문자열 풀에서 `str3` 과 같은
`x003` 참조를 사용한다.
문자열 풀 덕분에 같은 문자를 사용하는 경우 메모리 사용을 줄이고 문자를 만드는 시간도 줄어들기 때문에 성능
도 최적화 할 수 있다.

**참고**: 풀(Pool)은 자원이 모여있는 곳을 의미한다. 프로그래밍에서 풀(Pool)은 공용 자원을 모아둔 곳을 뜻한다.
여러 곳에서 함께 사용할 수 있는 객체를 필요할 때 마다 생성하고, 제거하는 것은 비효율적이다. 대신에 이렇게
문자열 풀에 필요한 `String` 인스턴스를 미리 만들어두고 여러곳에서 재사용할 수 있다면 성능과 메모리를 더
최적화 할 수 있다.
참고로 문자열 풀은 힙 영역을 사용한다. 그리고 문자열 풀에서 문자를 찾을 때는 해시 알고리즘을 사용하기 때문
에 매우 빠른 속도로 원하는 `String` 인스턴스를 찾을 수 있다. 해시 알고리즘은 뒤에서 설명한다.

### String 클래스 불변 객체 

String이 불변으로 설계된 이유
`String` 이 불변으로 설계된 이유는 앞서 불변 객체에서 배운 내용에 추가로 다음과 같은 이유도 있다.
문자열 풀에 있는 `String` 인스턴스의 값이 중간에 변경되면 같은 문자열을 참고하는 다른 변수의 값도 함께 변경된
다.